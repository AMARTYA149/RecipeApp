{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.InternalCoreModuleFactory = void 0;\n\nconst common_1 = require(\"@nestjs/common\");\n\nconst external_context_creator_1 = require(\"../helpers/external-context-creator\");\n\nconst http_adapter_host_1 = require(\"../helpers/http-adapter-host\");\n\nconst instance_loader_1 = require(\"./instance-loader\");\n\nconst internal_core_module_1 = require(\"./internal-core-module\");\n\nconst lazy_module_loader_1 = require(\"./lazy-module-loader\");\n\nconst modules_container_1 = require(\"./modules-container\");\n\nclass InternalCoreModuleFactory {\n  static create(container, scanner, moduleCompiler, httpAdapterHost) {\n    return internal_core_module_1.InternalCoreModule.register([{\n      provide: external_context_creator_1.ExternalContextCreator,\n      useValue: external_context_creator_1.ExternalContextCreator.fromContainer(container)\n    }, {\n      provide: modules_container_1.ModulesContainer,\n      useValue: container.getModules()\n    }, {\n      provide: http_adapter_host_1.HttpAdapterHost,\n      useValue: httpAdapterHost\n    }, {\n      provide: http_adapter_host_1.HttpAdapterHost.name,\n      useExisting: http_adapter_host_1.HttpAdapterHost\n    }, {\n      provide: lazy_module_loader_1.LazyModuleLoader,\n      useFactory: () => {\n        const logger = new common_1.Logger(lazy_module_loader_1.LazyModuleLoader.name, {\n          timestamp: false\n        });\n        const instanceLoader = new instance_loader_1.InstanceLoader(container, logger);\n        return new lazy_module_loader_1.LazyModuleLoader(scanner, instanceLoader, moduleCompiler, container.getModules());\n      }\n    }]);\n  }\n\n}\n\nexports.InternalCoreModuleFactory = InternalCoreModuleFactory;","map":null,"metadata":{},"sourceType":"script"}