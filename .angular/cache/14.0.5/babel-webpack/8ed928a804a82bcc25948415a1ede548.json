{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.StreamableFile = void 0;\n\nconst stream_1 = require(\"stream\");\n\nconst util_1 = require(\"util\");\n\nconst shared_utils_1 = require(\"../utils/shared.utils\");\n\nclass StreamableFile {\n  constructor(bufferOrReadStream, options = {}) {\n    var _a;\n\n    var _b;\n\n    this.options = options;\n\n    if (util_1.types.isUint8Array(bufferOrReadStream)) {\n      this.stream = new stream_1.Readable();\n      this.stream.push(bufferOrReadStream);\n      this.stream.push(null);\n      (_a = (_b = this.options).length) !== null && _a !== void 0 ? _a : _b.length = bufferOrReadStream.length;\n    } else if (bufferOrReadStream.pipe && (0, shared_utils_1.isFunction)(bufferOrReadStream.pipe)) {\n      this.stream = bufferOrReadStream;\n    }\n  }\n\n  getStream() {\n    return this.stream;\n  }\n\n  getHeaders() {\n    const {\n      type = 'application/octet-stream',\n      disposition = undefined,\n      length = undefined\n    } = this.options;\n    return {\n      type,\n      disposition,\n      length\n    };\n  }\n\n}\n\nexports.StreamableFile = StreamableFile;","map":null,"metadata":{},"sourceType":"script"}